<mat-card *ngIf="initUiModel">
  <mat-card-header>
    <h3 class="mat-h3">{{title}}</h3>
    <span fxFlex="1 1 auto"></span>
    <mat-icon *ngIf="sourceCode" (click)="toggleLayout()">{{isHorizontal ? 'vertical_split' : 'horizontal_split'}}</mat-icon>
    <mat-icon (click)="toggleSourceCode()">code</mat-icon>
  </mat-card-header>
  <mat-card-content [fxLayout]="layout">

    <ng-container *ngIf="sourceCode">
      <mat-tab-group fxFlex="1 1 auto" [ngStyle]="{'max-width': isHorizontal ? '100%' : '50%'}">
        <mat-tab label="UI Model">
          <ngx-monaco-editor [options]="editorOptions" [formControl]="uiModelControl"></ngx-monaco-editor>
        </mat-tab>
        <mat-tab label="Workflows" disabled></mat-tab>
        <mat-tab label="Data Model">
          <ngx-monaco-editor [options]="editorOptions" [formControl]="dataModelControl"></ngx-monaco-editor>
        </mat-tab>
      </mat-tab-group>
      <mat-divider *ngIf="isHorizontal"></mat-divider>
    </ng-container>

    <div class="preview" fxFlex="1 1 auto">
      <dc-ui-selector
      (changedDataModel)="onDataModelChange($event)"
      [uiModel]='uiModel$ | async'
      [dataModel]='dataModel$ | async'
      [actions]='actions'></dc-ui-selector>
    </div>

  </mat-card-content>
</mat-card>
