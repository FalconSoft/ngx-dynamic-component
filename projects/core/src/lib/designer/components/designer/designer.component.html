<div class="h-100">
  <div class="row h-100 m-0">
    <div class="col-4 col-lg-2 h-100 overflow-y-auto">
      <accordion [isAnimated]="true" [closeOthers]="true" class="d-flex flex-fill flex-column p-0 m-0 w-100" cdkDropList
      id="ngx-components-list"
  [cdkDropListConnectedTo]="(connected$ | async)" [ngClass]="{disabled: (connected$ | async) === undefined}"
        cdkDropListSortingDisabled>
        <accordion-group *ngFor="let g of groups; let first = first" #accordionGroupRef [isOpen]="first" class="p-0">
          <div class="header d-flex align-items-center" accordion-heading>
            <i class="fa text-center me-2" [ngClass]="{
              'fa-chevron-down': accordionGroupRef.isOpen,
              'fa-chevron-right': !accordionGroupRef.isOpen
            }"></i>
            <h5 class="m-0">{{g.name}}</h5>
          </div>
          <ul class="d-flex flex-fill flex-column p-0 m-0">
            <li class="d-flex align-items-baseline cursor-pointer border my-1 p-1"
              *ngFor="let component of g.components" cdkDrag cdkDragPreview [cdkDragData]="getUIModel(component)">
              {{component.name}}
            </li>
          </ul>
        </accordion-group>
        <accordion-group #accordionGroupRef>
          <div class="header d-flex align-items-center" accordion-heading>
            <i class="fa text-center me-2" [ngClass]="{
              'fa-chevron-down': accordionGroupRef.isOpen,
              'fa-chevron-right': !accordionGroupRef.isOpen
            }"></i>
            <h5 class="m-0">{{form.name}}</h5>
          </div>
          <ul class="d-flex flex-fill flex-column p-0 m-0">
            <li class="d-flex align-items-baseline cursor-pointer border my-1 p-1"
              *ngFor="let sample of form.samples" cdkDrag cdkDragPreview [cdkDragData]="getUIModelFromXML(sample.xmlModel)">
              {{sample.name}}
            </li>
          </ul>
        </accordion-group>
      </accordion>
    </div>
    <div class="col-8 col-lg-8">
      <ngx-dynamic-designer-component id="ngx-dynamic-designer"
        class="d-flex flex-column h-100 overflow-hidden" [xmlUIModel]="template"
        [dataModel]="{}"></ngx-dynamic-designer-component>
    </div>
    <div class="col-4 col-lg-2">
      <button class="btn btn-primary-outline" (click)="clear()">Clear</button>
      <dc-component-properties *ngIf="selectedComponent$ | async as component"
        [component]="component"
        (delete)="deleteComponent($event)"
        (save)="saveComponent($event)"
        (cancel)="cancelSelection()"
        (selectComponent)="selectComponent($event)">
      </dc-component-properties>
    </div>
  </div>
</div>
