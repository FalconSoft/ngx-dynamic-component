<as-split unit="pixel" #split="asSplit" class="row h-100 preview edit-mode m-0 w-100" direction="horizontal"
  [useTransition]="true">
  <as-split-area class="d-flex flex-column">
    <as-split [useTransition]="true" [ngClass]="{'full-mode': fullMode}" (onDragEnd)="onSizeChange()" (transitionEnd)="onSizeChange()">
        <as-split-area #area0="asSplitArea" class="d-flex mb-0 position-relative" [size]="jsonConfigSize">
            <div class="tabs-actions position-absolute">
              <button type="button" class="btn btn-light btn-sm px-1 py-0" (click)="formatJSON()"
                    [ngClass]="{active: formatted}" title="Format JSON data, with proper indentation and line feeds (Ctrl+\)">
                    <i class="fa fa-indent"></i>
              </button>
              <button type="button" class="btn btn-light btn-sm ml-1 px-1 py-0" (click)="formatJSON(false)"
                    [ngClass]="{active: !formatted}" title="Compact JSON data, remove all whitespaces (Ctrl+Shift+\)">
                    <i class="fa fa-align-justify"></i>
              </button>
              <button type="button" class="btn btn-light btn-sm ml-1 px-1 py-0" (click)="onWorkflowEdit(false)"
                    [ngClass]="{active: !formatted}" title="Workflow edit">
                    <i class="fa fa-cogs"></i>
              </button>
            </div>
            <tabset class="tabset-fx w-100">
              <tab heading="UI Model">
                <div #uiModelEl class="h-100 ace-editor"></div>
              </tab>
              <tab heading="Workflow Config">
                <div #workflowEl class="h-100 ace-editor"></div>
              </tab>
            </tabset>
          </as-split-area>
          <as-split-area [size]="100 - jsonConfigSize" #area1="asSplitArea" class="d-flex overflow-auto flex-column">
            <ngx-dynamic-component class="flex-fill pt-4" *ngIf="uiModelVal" [uiModel]='uiModelVal' [dataModel]='{}' [workflow]='workflow'></ngx-dynamic-component>
            <div id="empty-container" class="w-100 h-100" *ngIf="!uiModelVal"></div>
          </as-split-area>
    </as-split>
    <div class="btn-group d-block mode">
      <label class="btn btn-light btn-sm cursor-pointer" ngDefaultControl [(ngModel)]="modeState.json" [class.active]="modeState.json"
        btnCheckbox tabindex="0" role="button" name="mode-json" (click)="onModeState('json')" title="JSON Configuration">
        <i class="fa fa-code fa-lg"></i> Configuration
      </label>
      <label class="btn btn-light btn-sm cursor-pointer" ngDefaultControl [(ngModel)]="modeState.designer" [class.active]="modeState.designer"
        btnCheckbox tabindex="0" role="button" name="mode-designer" (click)="onModeState('designer')" title="Designer">
        <i class="fa fa-cubes fa-lg"></i> Designer
      </label>
    </div>
  </as-split-area>
  <as-split-area #area2="asSplitArea" class="d-flex mb-0" [size]="350" [maxSize]="600">
    <tabset #tabset class="tabset-fx w-100">
      <tab heading="Components" (selectTab)="onComponentsTabSelect()">
        <dc-controls-panel #controlsPanel class="h-100 overflow-auto"></dc-controls-panel>
      </tab>
      <tab heading="Properties" [disabled]="!uiModelToEdit">
        <dc-properties-editor class="h-100 overflow-auto" *ngIf="uiModelToEdit"
          (updatedProperty)="onPropertyChange()" (selectParent)="onParentSelect()" (clone)="onClone()" [uiModel]="uiModelToEdit"></dc-properties-editor>
      </tab>
    </tabset>
  </as-split-area>
</as-split>
